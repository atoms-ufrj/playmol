<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Playmol: Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<!-- Syntax Highlighting -->
<link rel="stylesheet" href="xcode.css">
<script src="highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="playmol_logo.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
   <div id="projectbrief">(Version: 16 Feb 2017)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('commands.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Playmol is designed to execute scripts containing the commands described below. Click in the command name for detailed description and examples. In all examples, the units of measurement employed for physically meaningful values are those corresponding to <a href="http://lammps.sandia.gov/doc/units.html">LAMMPS real units</a>.</p>
<table class="doxtable">
<tr>
<th align="center">Command </th><th align="left">Description  </th></tr>
<tr>
<td align="center"><a href="#define">define</a> </td><td align="left">defines a variable for further substitution </td></tr>
<tr>
<td align="center"><a href="#for_next">for/next</a> </td><td align="left">executes commands repeatedly while changing the value of a variable </td></tr>
<tr>
<td align="center"><a href="#if_then_else">if/then/else</a> </td><td align="left">executes commands conditionally or selects between two command sequences </td></tr>
<tr>
<td align="center"><a href="#atom_type">atom_type</a> </td><td align="left">creates an atom type with given name and parameters </td></tr>
<tr>
<td align="center"><a href="#mass">mass</a> </td><td align="left">specifies the mass of atoms of a given type </td></tr>
<tr>
<td align="center"><a href="#diameter">diameter</a> </td><td align="left">specifies the diameter of atoms of a given type </td></tr>
<tr>
<td align="center"><a href="#bond_type">bond_type</a> </td><td align="left">defines parameters for bonds between atoms of two given types </td></tr>
<tr>
<td align="center"><a href="#angle_type">angle_type</a> </td><td align="left">defines parameters for angles involving atoms of three given types </td></tr>
<tr>
<td align="center"><a href="#dihedral_type">dihedral_type</a> </td><td align="left">defines parameters for dihedrals involving atoms of four given types </td></tr>
<tr>
<td align="center"><a href="#improper_type">improper_type</a> </td><td align="left">defines parameters for impropers involving atoms of four given types </td></tr>
<tr>
<td align="center"><a href="#atom">atom</a> </td><td align="left">creates an atom with given name and type </td></tr>
<tr>
<td align="center"><a href="#charge">charge</a> </td><td align="left">specifies the charge of a given atom </td></tr>
<tr>
<td align="center"><a href="#bond">bond</a> </td><td align="left">creates chemical bonds and automatically detects angles and dihedrals </td></tr>
<tr>
<td align="center"><a href="#improper">improper</a> </td><td align="left">creates an improper involving four given atoms or search for impropers </td></tr>
<tr>
<td align="center"><a href="#body">body</a> </td><td align="left">selects a set of atoms to be marked as a single body </td></tr>
<tr>
<td align="center"><a href="#extra">extra</a> </td><td align="left">creates an extra bond, angle, or dihedral involving given atoms </td></tr>
<tr>
<td align="center"><a href="#link">link</a> </td><td align="left">links two atoms (and fuses their molecules) without actually bonding them </td></tr>
<tr>
<td align="center"><a href="#unlink">unlink</a> </td><td align="left">removes an existing link (and splits the corresponding molecule) </td></tr>
<tr>
<td align="center"><a href="#build">build</a> </td><td align="left">guesses atom positions from provided geometric information </td></tr>
<tr>
<td align="center"><a href="#prefix_suffix">prefix/suffix</a> </td><td align="left">defines default prefixes or suffixes for atom types and atoms </td></tr>
<tr>
<td align="center"><a href="#box">box</a> </td><td align="left">defines the properties of a simulation box </td></tr>
<tr>
<td align="center"><a href="#velocity">velocity</a> </td><td align="left">defines parameters for genarating Maxwell-Boltzmann atomic velocities </td></tr>
<tr>
<td align="center"><a href="#align">align</a> </td><td align="left">aligns the principal axes of a molecule to the Cartesian axes </td></tr>
<tr>
<td align="center"><a href="#packmol">packmol</a> </td><td align="left">executes Packmol in order to create a packed molecular system </td></tr>
<tr>
<td align="center"><a href="#write">write</a> </td><td align="left">saves system info in different file formats (including LAMMPS data files) </td></tr>
<tr>
<td align="center"><a href="#include">include</a> </td><td align="left">includes commands from another script </td></tr>
<tr>
<td align="center"><a href="#reset">reset</a> </td><td align="left">resets a list of entities together with its dependent lists </td></tr>
<tr>
<td align="center"><a href="#shell">shell</a> </td><td align="left">executes an external shell command </td></tr>
<tr>
<td align="center"><a href="#quit">quit</a> </td><td align="left">interrupts the execution of a Playmol script </td></tr>
</table>
<hr/>
<p> <a class="anchor" id="define"></a> </p><h2>define </h2>
<p><b>Syntax</b>: </p><pre class="fragment">define  &lt;variable&gt; as &lt;string&gt;
</pre><ul>
<li><em>variable</em> = a valid name to be assigned to the defined variable</li>
<li><em>string</em> = a single character string</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines a variable whose value (a character string) is intended to be substituted in forthcoming commands.</p>
<p>The parameter <em>variable</em> the must be a single character string containing only letters (A-Z or a-z), numbers (0-9), and underscores (_). The first character must necessarily be a letter. <b>Important</b>: variable names are case-sensitive.</p>
<p>The parameter <em>value</em> must be a single character string with no comment tags (#).</p>
<p>Substitution is instructed in forthcoming commands by either preceding the variable name with a symbol "$" or enclosing it between symbols "${" and "}", with no spacing. Every time the symbol "$" is found in a command, Playmol will admit that a variable is being referred to. The actual command will only be issued after all variables have been replaced by their values.</p>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;define      name as C</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;atom_type   $name   0.0914 3.95</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;atom        ${name}1 $name</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;atom        ${name}2 $name</div></div><!-- fragment --><p>In the example above, an atom type named <em>C</em> is defined with parameters 0.0914 and 3.95. Then, two atoms named <em>C1</em> and <em>C2</em> are created, both of type <em>C</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#for_next">for/next</a>, <a href="#if_then_else">if/then/else</a>, <a href="#atom_type">atom_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="for_next"></a> </p><h2>for/next </h2>
<p><b>Syntax</b>: </p><pre class="fragment">for &lt;variable&gt; from &lt;min&gt; to &lt;max&gt;
    commands
next
</pre><p>or </p><pre class="fragment">for &lt;variable&gt; from &lt;max&gt; downto &lt;min&gt;
    commands
next
</pre><p>or </p><pre class="fragment">for &lt;variable&gt; in &lt;string-list&gt;
    commands
next
</pre><ul>
<li><em>variable</em> = a valid name to be assigned to the defined variable</li>
<li><em>min</em>, <em>max</em> = either two integer numbers or two single characters, with <em>max</em> &ge; <em>min</em></li>
<li><em>string-list</em> = a list of character strings</li>
</ul>
<p><b>Description</b>:</p>
<p>This command repeatedly executes a sequence of command-lines between the <em>for</em> and <em>next</em> statements while the value of a variable changes in accordance with a specified range or list.</p>
<p>The parameter <em>variable</em> the must be a valid variable name, that is, the first character must be a letter (A-Z or a-z) and the remaining characters can be letters (A-Z or a-z), numbers (0-9) or underscores (_).</p>
<p>The parameters <em>min</em> and <em>max</em> can be either two integer numbers with <em>max</em> &ge; <em>min</em> or two single characters with <em>max</em> not preceding <em>min</em> in the <a href="https://en.wikipedia.org/wiki/ASCII#ASCII_printable_code_chart">ASCII</a> character table. If the corresponding condition is not met, then the command-lines between <em>for</em> and <em>next</em> will be ignored. Otherwise, these command-lines will be executed repeatedly, with the value of <em>variable</em> ranging either from <em>min</em> up to <em>max</em> or from <em>max</em> down to <em>min</em>, depending on the chosen syntax (see above).</p>
<p>The parameter <em>string-list</em> is a list of character strings separated by spaces and/or tabs. If the list is empty, then the command-lines between <em>for</em> and <em>next</em> will be ignored. Otherwise, these command-lines with be executed repeatedly, with the value of <em>variable</em> turning into the entries of <em>string-list</em>, one at a time and in the order they appear in the list.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;atom    C1 CH3</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;for i from 2 to {$N-1}</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    atom    C$i CH2</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;next</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;atom    C$N CH3</div></div><!-- fragment --><p>In the example above, the units of a united-atom n-alkane molecule are defined and named as C1, C2, C3, etc. It is assumed that variable N (the number of carbon atoms) has already been defined.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for mol in water ethanol glycerol</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    build $mol.xyz</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;next</div></div><!-- fragment --><p>In the example above, the files <em>water.xyz</em>, <em>ethanol.xyz</em>, and <em>glycerol.xyz</em> are employed as inputs for the <a href="#build">build</a> command.</p>
<p><b>See also</b>:</p>
<p><a href="#define">define</a>, <a href="#if_then_else">if/then/else</a> </p><hr/>
<p> <a class="anchor" id="if_then_else"></a> </p><h2>if/then/else </h2>
<p><b>Syntax</b>: </p><pre class="fragment">if &lt;condition&gt; then
    commands
endif
</pre><p>or </p><pre class="fragment">if &lt;condition&gt; then
    commands
else
    commands
endif
</pre><ul>
<li><em>condition</em> = 1 or 0 (e.g. the result of a logical expression)</li>
</ul>
<p><b>Description</b>:</p>
<p>This command conditionally executes a sequence of command-lines or selects between two given sequences of command-lines.</p>
<p>The parameter <em>condition</em> can be either <em>1</em> (true) or <em>0</em> (false). If any value other than these two is passed, an error message is produced. In practice, <em>condition</em> might be the result of a variable substitution or a logical expression evaluation (see the <a href="basics.html">Playmol Basics</a> section for details).</p>
<p>If the first syntax above is used (that is, without the <em>else</em> statement), then the command-lines between <em>if</em> and <em>endif</em> will be executed if <em>condition</em> = <em>1</em> or ignored if <em>condition</em> == 0. Otherwise, if the second syntax is chosen, then the executed command-lines will either be those between <em>if</em> and <em>else</em> if <em>condition</em> = 1 or those between <em>else</em> and <em>endif</em> if <em>condition</em> = 0.</p>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Nerd force field for normal alkanes</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;define      factor as 1.987E-3</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;atom_type   CH2 {45.8*$factor}  3.930</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if {$N == 2} then</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  atom_type CH3 {100.6*$factor} 3.825</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;else</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  if {$N == 3} then</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    atom_type   CH3 {102.6*$factor} 3.857</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  else</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    atom_type   CH3 {104.0*$factor} 3.910</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  endif</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;endif</div></div><!-- fragment --><p>In the example above, the attribute list of the atom type <em>CH3</em> will depend on the number of carbon atoms (<em>N</em>) of the n-alkane molecule. Ethane and propane have their own parameters, while n-butane and superior alkanes share the same parameters.</p>
<p><b>See also</b>:</p>
<p><a href="#define">define</a>, <a href="#for_next">for/next</a> </p><hr/>
<p> <a class="anchor" id="atom_type"></a> </p><h2>atom_type </h2>
<p><b>Syntax</b>: </p><pre class="fragment">atom_type   &lt;id&gt; &lt;attribute-list&gt;
</pre><ul>
<li><em>id</em> = a name to be assigned to the atom type being defined</li>
<li><em>attribute-list</em> = a list of attributes related to the atom type being defined</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines an atom type with its related attributes. At least one atom type must necessarily be defined before any <a href="#atom">atom</a> is created and before any <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, <a href="#dihedral_type">dihedral_type</a>, or <a href="#improper_type">improper_type</a> is defined.</p>
<p>The parameter <em>id</em> must be a single string with no comment tags (#) and no wildcard characters (* or ?). If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom type identifier will contain such prefix and/or suffix added to <em>id</em>. Distinct atom types cannot have the same identifier.</p>
<p>The parameter <em>attribute-list</em> can be a sequence of strings containing any characters, except comment tags (#). When a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated using the command <a href="#write">write</a>, then the content of <em>attribute-list</em> is assumed to be the parameters of the <a href="http://lammps.sandia.gov/doc/pair_style.html">LAMMPS pair style</a> associated with the atom type in question.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;atom_type   O   0.1553 3.166</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;atom_type   H   0.0000 0.000</div></div><!-- fragment --><p>In the example above, atom types <em>O</em> and <em>H</em> are defined with Lennard-Jones parameters <em>epsilon</em> and <em>sigma</em>, respectively, corresponding to the SPC water model. This can be used to generate a LAMMPS configuration file associated with the pair style <em>lj/cut/coul/long</em>, for instance.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;prefix      types TraPPE-</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;atom_type   CH3 lj/cut 0.1947 3.75</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;atom_type   CH2 lj/cut 0.0914 3.95</div></div><!-- fragment --><p>In the example above, united-atom types <em>TraPPE-CH3</em> and <em>TraPPE-CH2</em> are defined Lennard-Jones parameters <em>epsilon</em> and <em>sigma</em>, respectively, corresponding to the TraPPE force field. An explicit pair style specification <em>lj/cut</em> is done, supposing that a pair style <em>hybrid</em> or <em>hybrid/overlay</em> will be employed in LAMMPS.</p>
<p><b>See also</b>:</p>
<p><a href="#atom">atom</a>, <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, <a href="#dihedral_type">dihedral_type</a>, <a href="#improper_type">improper_type</a>, <a href="#prefix_suffix">prefix/suffix</a> </p><hr/>
<p> <a class="anchor" id="mass"></a> </p><h2>mass </h2>
<p><b>Syntax</b>: </p><pre class="fragment">mass        &lt;type&gt; &lt;value&gt;
</pre><ul>
<li><em>type</em> = the name of a atom type</li>
<li><em>value</em> = mass of any atom with the specified atom type</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines the mass of atoms of a given type.</p>
<p>The parameter <em>type</em> is an <a href="#atom_type">atom_type</a> identifier. Wildcard characters (* or ?) can be used so that the same mass value is assigned to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom type identifier will contain such prefix and/or suffix added to <em>type</em>. Distinct atom types cannot have the same identifier. <b>Important</b>: the presence of wildcards makes a mass value applicable to atom types defined either beforehand or afterwards.</p>
<p>An <a href="#atom">atom</a> will only be created if a mass value has been previously defined to its corresponding atom type. For models which contain massless atoms, such as a 4-point or a 5-point water model, one must define their masses as 0 (zero).</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mass        CH2 14.0</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mass        H*  1.008</div></div><!-- fragment --><p>In the example above, a mass value of <em>14.0</em> is assigned to atom type <em>CH2</em> and a mass value of <em>1.008</em> is assigned to all atoms types whose identifiers start with <em>H</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="diameter"></a> </p><h2>diameter </h2>
<p><b>Syntax</b>: </p><pre class="fragment">diameter    &lt;type&gt; &lt;value&gt;
</pre><ul>
<li><em>type</em> = the name of a atom type</li>
<li><em>value</em> = diameter of any atom with the specified atom type</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines the diameter of atoms of a given type.</p>
<p>The parameter <em>type</em> is an <a href="#atom_type">atom_type</a> identifier. Wildcard characters (* or ?) can be used so that the same diameter value is assigned to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom type identifier will contain such prefix and/or suffix added to <em>type</em>. Distinct atom types cannot have the same identifier. <b>Important</b>: the presence of wildcards makes a diameter value applicable to atom types defined either beforehand or afterwards.</p>
<p>It is not necessary to define a diameter for every atom type. This is only required if one wishes to setup atom-specific distance tolerances when creating a molecular packing with the <a href="#packmol">packmol</a> command, thus superseding its parameter <em>tolerance</em>.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;diameter    CH2 3.0</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;diameter    H*  2.0</div></div><!-- fragment --><p>In the example above, a diameter value of <em>3.0</em> is assigned to atom type <em>CH2</em> and a diameter value of <em>2.0</em> is assigned to all atoms types whose identifiers start with <em>H</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#atom">atom</a>, <a href="#packmol">packmol</a> </p><hr/>
<p> <a class="anchor" id="bond_type"></a> </p><h2>bond_type </h2>
<p><b>Syntax</b>: </p><pre class="fragment">bond_type   &lt;type-1&gt; &lt;type-2&gt; &lt;attribute-list&gt;
</pre><ul>
<li><em>type-x</em> = identifier of a previously defined atom type</li>
<li><em>attribute-list</em> = list of attributes related to the bond type being defined</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines a bond type and its related attributes. At least one bond type must necessarily be defined before any chemical <a href="#bond">bond</a> is created. A bond type is identified by the types of the two atoms involved.</p>
<p>The parameters <em>type-1</em> and <em>type-2</em> are identifiers of previously defined atom types. Either order <em>type-1</em> <em>type-2</em> or <em>type-2</em> <em>type-1</em> will result in the same bond type. Wildcard characters (? and *) can be used to refer to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then each actual atom type identifier will contain such prefix and/or suffix added to <em>type-x</em>.</p>
<p>The parameter <em>attribute-list</em> can be a sequence of strings containing any characters, except comment tags (#). When a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated using the command <a href="#write">write</a>, then the content of <em>attribute-list</em> is assumed to be the parameters of the <a href="http://lammps.sandia.gov/doc/bond_style.html">LAMMPS bond style</a> associated with the bond type in question.</p>
<p>It is possible to define multiple identical bond types. This can be done, for instance, when the bond stretching potential is modeled as a sum of multiple terms, each one corresponding to a different <a href="http://lammps.sandia.gov/doc/bond_style.html">LAMMPS bond style</a>. Note that two or more bond types can be defined identically, even with the use of wildcard characters. However, they cannot be defined ambiguously.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;bond_type   CH* CH* 95.877 1.54</div></div><!-- fragment --><p>In the example above, the given attributes will be associated with every bond involving atoms whose types have identifiers starting with <em>CH</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#bond">bond</a>, <a href="#write">write</a>, <a href="#prefix_suffix">prefix/suffix</a> </p><hr/>
<p> <a class="anchor" id="angle_type"></a> </p><h2>angle_type </h2>
<p><b>Syntax</b>: </p><pre class="fragment">angle_type  &lt;type-1&gt; &lt;type-2&gt; &lt;type-3&gt; &lt;attribute-list&gt;
</pre><ul>
<li><em>type-x</em> = identifier of a previously defined atom type</li>
<li><em>attribute-list</em> = list of attributes related to the bond type being defined</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines an angle type and its related attributes. An angle type is identified by the types of the three atoms involved.</p>
<p>The parameters <em>type-1</em>, <em>type-2</em>, and <em>type-3</em> are identifiers of previously defined atom types. Either order <em>type-1</em> <em>type-2</em> <em>type-3</em> or <em>type-3</em> <em>type-2</em> <em>type-1</em> will result in the same angle type. Wildcard characters (? and *) can be used to refer to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then each actual atom type identifier will contain such prefix and/or suffix added to <em>type-x</em>.</p>
<p>The parameter <em>attribute-list</em> can be a sequence of strings containing any characters, except comment tags (#). When a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated using the command <a href="#write">write</a>, then the content of <em>attribute-list</em> is assumed to be the parameters of the <a href="http://lammps.sandia.gov/doc/angle_style.html">LAMMPS angle style</a> associated with the angle type in question.</p>
<p>It is possible to define multiple identical angle types. This can be done, for instance, when the angle bending potential is modeled as a sum of multiple terms, each one corresponding to a different <a href="http://lammps.sandia.gov/doc/angle_style.html">LAMMPS angle style</a>. Note that two or more angle types can be defined identically, even with the use of wildcard characters. However, they cannot be defined ambiguously.</p>
<p>Playmol detects angles automatically when chemical bonds are created. If a detected angle fits to a previously defined angle type, then Playmol will add it to a list of angles to be used later on, for instance, in the creation of a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a>. If the corresponding angle type does not exist at the moment a new angle is detected, then Playmol will ignore such angle and produce a warning message. Besides the automatic detection, an angle can also be explicitly created using the <a href="#extra">extra</a> command.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;angle_type  CH3 CH2 CH2 62.0965 114</div></div><!-- fragment --><p>In the example above, the given attributes will be associated with every detected or specified angle that involves three consecutive atoms whose type identifiers are <em>CH3</em> <em>CH2</em> <em>CH2</em> or <em>CH2</em> <em>CH2</em> <em>CH3</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#write">write</a>, <a href="#prefix_suffix">prefix/suffix</a>, <a href="#extra">extra</a> </p><hr/>
<p> <a class="anchor" id="dihedral_type"></a> </p><h2>dihedral_type </h2>
<p><b>Syntax</b>: </p><pre class="fragment">dihedral_type   &lt;type-1&gt; &lt;type-2&gt; &lt;type-3&gt; &lt;type-4&gt; &lt;attribute-list&gt;
</pre><ul>
<li><em>type-x</em> = identifier of a previously defined atom type</li>
<li><em>attribute-list</em> = list of attributes related to the bond type being defined</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines a dihedral type and its related attributes. A dihedral type is identified by the types of the four atoms involved.</p>
<p>The parameters <em>type-1</em>, <em>type-2</em>, <em>type-3</em>, and <em>type-4</em> are identifiers of previously defined atom types. The order of such identifiers is relevant in the case of dihedral types, that is, if the same identifiers are disposed in the inverse order, they will denote a different dihedral type. Wildcard characters (? and *) can be used to refer to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then each actual atom type identifier will contain such prefix and/or suffix added to <em>type-x</em>.</p>
<p>The parameter <em>attribute-list</em> can be a sequence of strings containing any characters, except comment tags (#). When a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated using the command <a href="#write">write</a>, then the content of <em>attribute-list</em> is assumed to be the parameters of the <a href="http://lammps.sandia.gov/doc/dihedral_style.html">LAMMPS dihedral style</a> associated with the dihedral type in question.</p>
<p>It is possible to define multiple identical dihedral types. This can be done, for instance, when the torsional potential is modeled as a sum of multiple terms, each one corresponding to a different <a href="http://lammps.sandia.gov/doc/dihedral_style.html">LAMMPS dihedral style</a>. Note that two or more dihedral types can be defined identically, even with the use of wildcard characters. However, they cannot be defined ambiguously.</p>
<p>Playmol detects dihedrals automatically when chemical bonds are created. If a detected dihedral fits to a previously defined dihedral type, then Playmol will add it to a list of dihedrals to be used later on, for instance, in the creation of a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a>. If the corresponding dihedral type does not exist at the moment a new dihedral is detected, then Playmol will ignore such dihedral and produce a warning message. Besides the automatic detection, a dihedral can also be explicitly created using the <a href="#extra">extra</a> command.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;dihedral_type   CH3 CH2 CH2 CH2 1.41095 -0.27100 3.14484 0</div></div><!-- fragment --><p>In the example above, the given attributes will be associated with every detected or specified dihedral that involves four consecutive atoms whose type identifiers are <em>CH3</em> <em>CH2</em> <em>CH2</em> <em>CH2</em>, in this specific order.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#write">write</a>, <a href="#prefix_suffix">prefix/suffix</a>, <a href="#extra">extra</a> </p><hr/>
<p> <a class="anchor" id="improper_type"></a> </p><h2>improper_type </h2>
<p><b>Syntax</b>: </p><pre class="fragment">improper_type   &lt;type-1&gt; &lt;type-2&gt; &lt;type-3&gt; &lt;type-4&gt; &lt;attribute-list&gt;
</pre><ul>
<li><em>type-x</em> = identifier of a previously defined atom type</li>
<li><em>attribute-list</em> = list of attributes related to the bond type being defined</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines an improper type and its related attributes. An improper type is identified by the types of the four atoms involved.</p>
<p>The parameters <em>type-1</em>, <em>type-2</em>, <em>type-3</em>, and <em>type-4</em> are identifiers of previously defined atom types. The order of such identifiers is relevant in the case of improper types, that is, if the same identifiers are disposed in the inverse order, they will denote a different improper type. Wildcard characters (? and *) can be used to refer to multiple atom types. If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then each actual atom type identifier will contain such prefix and/or suffix added to <em>type-x</em>.</p>
<p>The parameter <em>attribute-list</em> can be a sequence of strings containing any characters, except comment tags (#). When a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated using the command <a href="#write">write</a>, then the content of <em>attribute-list</em> is assumed to be the parameters of the <a href="http://lammps.sandia.gov/doc/improper_style.html">LAMMPS improper style</a> associated with the improper type in question.</p>
<p>It is possible to define multiple identical improper types. This can be done, for instance, when the torsional potential is modeled as a sum of multiple terms, each one corresponding to a different <a href="http://lammps.sandia.gov/doc/improper_style.html">LAMMPS improper style</a>. Note that two or more improper types can be defined identically, even with the use of wildcard characters. However, they cannot be defined ambiguously.</p>
<p>Impropers can be manually created or detected using the command <a href="#improper">improper</a>, which requires a previously defined improper type.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;improper_type   CH3 CH2 CH2 CH2 1.41095 -0.27100 3.14484 0</div></div><!-- fragment --><p>In the example above, the given attributes will be associated with every detected or specified improper that involves four consecutive atoms whose type identifiers are <em>CH3</em> <em>CH2</em> <em>CH2</em> <em>CH2</em>, in this specific order.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#improper">improper</a>, <a href="#write">write</a>, <a href="#prefix_suffix">prefix/suffix</a> </p><hr/>
<p> <a class="anchor" id="atom"></a> </p><h2>atom </h2>
<p><b>Syntax</b>: </p><pre class="fragment">atom        &lt;id&gt; &lt;type&gt; [&lt;charge&gt;]
</pre><ul>
<li><em>id</em> = a name to be assigned to the atom being created</li>
<li><em>type</em> = the name of a previously defined atom type</li>
<li><em>charge</em> (optional) = charge of the specified atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command creates an atom of a given type.</p>
<p>The parameter <em>id</em> must be a single character string with no comment tags (#) and no wildcard characters (* or ?). If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>id</em>. The same identifier cannot be assigned to distinct atoms.</p>
<p>The parameter <em>type</em> is the identifier of a previously defined atom type. A unique identifier must be provided, with no use of wildcard characters (* or ?). If a type-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then each actual atom type identifier will contain such prefix and/or suffix added to <em>type-x</em>. The specified atom type must have a <a href="#mass">mass</a> already define to it.</p>
<p>The optional parameter <em>charge</em> is the total or partial charge of the specified atom. Note that one can omit this parameter and assign the charge afterwards using the command <a href="#charge">charge</a>, which has the advantage of admitting wildcards in order to perform multiple charge assignments simultaneously.</p>
<p>When an atom is created, a new monoatomic molecule is automatically detected. If there are, for instance, <em>N</em> already existing molecules, the new monoatomic molecule will receive an index <em>N+1</em>. If a <a href="#bond">bond</a> involving this atom is created afterwards, then such monoatomic molecule will no longer exist.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;atom    C1 C</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;atom    C2 C</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;atom    H1 H</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#mass">mass</a>, <a href="#bond">bond</a>, <a href="#charge">charge</a> </p><hr/>
<p> <a class="anchor" id="charge"></a> </p><h2>charge </h2>
<p><b>Syntax</b>: </p><pre class="fragment">charge      &lt;atom&gt; &lt;value&gt;
</pre><ul>
<li><em>atom</em> = the name of an atom</li>
<li><em>value</em> = charge of the specified atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command defines the electric charge (total or partial) of an atom.</p>
<p>The parameter <em>atom</em> is an <a href="#atom">atom</a> identifier. If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom</em>. Wildcard characters (* or ?) can be used to simultaneously assign the same charge to multiple atoms. <b>Important</b>: the presence of wildcards makes a charge value applicable to atoms defined either beforehand or afterwards.</p>
<p>If an <a href="#atom">atom</a> has no explicitly defined charge, then it will be considered as neutral.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;charge      O* -1.0</div></div><!-- fragment --><p>In the example above, a change value of _-1.0_ is assigned to all atoms whose identifiers start with the letter <em>O</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="bond"></a> </p><h2>bond </h2>
<p><b>Syntax</b>: </p><pre class="fragment">bond        &lt;atom-1&gt; &lt;atom-2&gt; [&lt;atom-3&gt; &lt;atom-4&gt; ...]
</pre><ul>
<li><em>atom-x</em> = the name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command creates chemical bonds between atoms.</p>
<p>The parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?).</p>
<p>Parameters <em>atom-1</em> and <em>atom-2</em> are mandatory. Additional parameters <em>atom-x</em> (for <em>x</em> &gt; 2) are optional. In any case, <em>atom-1</em> is the central atom to which all other atoms will be connected. If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>.</p>
<p>If a bond is created between atoms that belong to the same molecule, then a cyclic structure is formed and the number of molecules does not change. However, if the two atoms belong to distinct molecules, then these molecules are fused together and the number of molecules is decreased. Supposing that the fused molecules have indices <em>i</em> and <em>j</em>, the index of the new molecule will be <em>min(i,j)</em>. In order to keep a consistent sequence, all existing molecules whose indexes are greater than <em>max(i,j)</em> will have their indexes decreased in one unit.</p>
<p>New angles and new dihedrals are detected automatically when a bond is created. If a detected structure fits to a previously defined type, then Playmol will add it to a list to be used later on, for instance, in the creation of a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a>. If the corresponding type does not exist at the moment a new structure is detected, then Playmol will ignore such structure and produce a warning message.</p>
<p>After chemical bonds have been created, one can visualize the current list of molecules by invoking the command <a href="#write">write</a> with the <em>summary</em> format.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;bond    O H1 H2</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;write   summary</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;quit</div></div><!-- fragment --><p>In the example above, two chemical bonds <em>O</em>-_H1_ and <em>O</em>-_H2_ are created. Then, a command <a href="#write">write</a> is issued and Playmol execution is interrupted, so that the user can visualize the updated list of molecules.</p>
<p><b>See also</b>:</p>
<p><a href="#bond_type">bond_type</a>, <a href="#atom">atom</a>, <a href="#atom_type">atom_type</a>, <a href="#write">write</a>, <a href="#quit">quit</a> </p><hr/>
<p> <a class="anchor" id="improper"></a> </p><h2>improper </h2>
<p><b>Syntax</b>: </p><pre class="fragment">improper    &lt;atom-1&gt; &lt;atom-2&gt; &lt;atom-3&gt; &lt;atom-4&gt;
</pre><p>or </p><pre class="fragment">improper    search
</pre><ul>
<li><em>atom-x</em> = name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command creates an improper involving the specified atoms or search for impropers.</p>
<p><b>Important</b>: Unlike angles and proper dihedrals, impropers are not detected automatically when the command <a href="#bond">bond</a> is executed. This is so because improper dihedrals can be defined in several distinct ways.</p>
<p>Each parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?). If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>.</p>
<p>When using explicit improper definition (first syntax above), a previously defined <a href="#improper_type">improper_type</a> matching the four atoms in the specified order is required.</p>
<p>Using the keyword <em>search</em> (second syntax above), Playmol will search for impropers composed of any four atoms I, J, K, and L in which atom K is simultaneously bonded to atoms I, J, and L. A detected improper will only be effectively created if the corresponding <a href="#improper_type">improper_type</a> has been previously defined.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;improper_type   HC HC C HC  1.41095 -0.27100 3.14484 0</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;improper        search</div></div><!-- fragment --><p>In the example above, an improper type is defined for all-atom methyl groups and then Playmol searches for impropers of this type.</p>
<p><b>See also</b>:</p>
<p><a href="#improper_type">improper_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="body"></a> </p><h2>body </h2>
<p><b>Syntax</b>: </p><pre class="fragment">body    &lt;atom-1&gt; &lt;atom-2&gt; [&lt;atom-3&gt; &lt;atom-4&gt; ...]
</pre><ul>
<li><em>atom-x</em> = the name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command selects a set of atoms to be marked as a single body. These atoms must all belong to the same molecule. This is used to define rigid bodies when creating an <a href="https://github.com/craabreu/emdee">EmDee</a> configuration file using the <a href="#write">write</a> command.</p>
<p>Each parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?). If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>. A body must contain at least two atoms.</p>
<p>Each parameter <em>atom-x</em> must be distinct from all others in the same body and from the others belonging to all previously defined bodies.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for i from 1 to 6</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  atom C$i C</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  atom H$i H</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  bond C$i H$i</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;next</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;bond C2 C1 C3</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;bond C4 C3 C5</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;bond C6 C5 C1</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;body C1 C2 C3 C4 C5 C6</div></div><!-- fragment --><p>In the example above, a benzene molecule is created and all its carbon atoms are grouped together as a single body.</p>
<p><b>See also</b>:</p>
<p><a href="#atom">atom</a>, <a href="#write">write</a> </p><hr/>
<p> <a class="anchor" id="extra"></a> </p><h2>extra </h2>
<p><b>Syntax</b>: </p><pre class="fragment">extra   bond        &lt;atom-1&gt; &lt;atom-2&gt;
</pre><p>or </p><pre class="fragment">extra   angle       &lt;atom-1&gt; &lt;atom-2&gt; &lt;atom-3&gt;
</pre><p>or </p><pre class="fragment">extra   dihedral    &lt;atom-1&gt; &lt;atom-2&gt; &lt;atom-3&gt; &lt;atom-4&gt;
</pre><ul>
<li><em>atom-x</em> = name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command creates an extra structure (bond, angle, dihedral) involving the specified atoms, which must all belong to the same molecule.</p>
<p>The parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?). A corresponding structure type (that is, <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, or <a href="#dihedral_type">dihedral_type</a>) must have been previously defined. If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>.</p>
<p><b>Important</b>: Playmol does not automatically search for angles and dihedrals when a chemical bond is created with the command <a href="#extra">extra</a>.</p>
<p>NOTE: extra structures are only required by some molecular models that define unconventional bonds, angles, or dihedrals, such as those that involve atoms which are not actually bonded in a molecule, for example. Most models, however, will involve only automatically detectable angles and dihedrals.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;extra bond  C1 C2</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;extra angle C1 C2 C3</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, <a href="#dihedral_type">dihedral_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="link"></a> </p><h2>link </h2>
<p><b>Syntax</b>: </p><pre class="fragment">link    &lt;atom-1&gt; &lt;atom-2&gt;
</pre><ul>
<li><em>atom-x</em> = name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command creates a virtual link between the specified atoms. If these atoms belong to distinct molecules, then such molecules will be fused together, but without actually creating a chemical bond between the linked atoms.</p>
<p>The parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?). If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>.</p>
<p>NOTE: sometimes, it is useful to consider two molecules as if they were a single one. For instance, when ions are present, one might want to consider an anion/cation pair as a single rigid structure, so that they can be packed together using the <a href="#packmol">packmol</a> command. After that, one can remove the link using the <a href="#unlink">unlink</a> command before writing down the produced configuration as, for instance, a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a>.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;link    Na+ Cl-</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#atom">atom</a>, <a href="#packmol">packmol</a>, <a href="#unlink">unlink</a> </p><hr/>
<p> <a class="anchor" id="unlink"></a> </p><h2>unlink </h2>
<p><b>Syntax</b>: </p><pre class="fragment">unlink  &lt;atom-1&gt; &lt;atom-2&gt;
</pre><ul>
<li><em>atom-x</em> = name of a previously defined atom</li>
</ul>
<p><b>Description</b>:</p>
<p>This command removes a previously defined link between the specified atoms. If such link is the only connection between two otherwise independent parts of a molecule, then such molecule will be disassembled accordingly. If necessary, the list of atomic coordinates of instantiated molecules will be rearranged in order to keep contiguousness for the atoms of each molecule.</p>
<p>The parameter <em>atom-x</em> is the identifier of a previously created atom. A unique identifier must be provided, with no use of wildcard characters (* or ?). If an atom-related <a href="#prefix_suffix">prefix/suffix</a> has been previously activated, then the actual atom identifier will contain such prefix and/or suffix added to <em>atom-x</em>. The two identifiers must correspond to a previously created <a href="#link">link</a>.</p>
<p>NOTE: sometimes, it is useful to consider two molecules as if they were a single one. For instance, when ions are present, one might want to consider an anion/cation pair as a single rigid structure, so that they can be packed together using the <a href="#packmol">packmol</a> command. After that, one can remove the link using the <a href="#unlink">unlink</a> command before writing down the produced configuration as, for instance, a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a>.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;unlink  Na+ Cl-</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#atom">atom</a>, <a href="#packmol">packmol</a>, <a href="#link">link</a> </p><hr/>
<p> <a class="anchor" id="build"></a> </p><h2>build </h2>
<p><b>Syntax</b>: </p><pre class="fragment">build     [&lt;file&gt;]
</pre><ul>
<li><em>file</em> (optional) = name of a file containing geometric information</li>
</ul>
<p><b>Description</b>:</p>
<p>This command reads geometric information and uses them to determine atomic coordinates for one or more molecules.</p>
<p>The optional parameter <em>file</em> is the name of a text file containing geometric information, whose required format is described below. If it is omitted, then the geometric information must be provided in the subsequent lines. In this sense, issuing the command <code>build &lt;file&gt;</code> is equivalent to issuing <code>build</code>, followed by <code>include &lt;file&gt;</code>.</p>
<p>The geometric information that Playmol expects to receive has the following format:</p>
<ul>
<li>The first non-empty line must contain the number <em>N</em> of geometric assignments that will be made.</li>
<li>The subsequent non-empty lines must contain the <em>N</em> geometric assignments, which can possibly be intertwined with <a href="#define">define</a> commands, <a href="#include">include</a> commands, <a href="#for_next">for/next</a> constructs, and <a href="#if_then_else">if/then/else</a> constructs. No other commands are permitted until all <em>N</em> assignments have been made. Each geometric assignments consists of an <a href="#atom">atom</a> identifier followed by some fields separated by spaces and/or tabs. Only the following formats are valid:</li>
</ul>
<p>Coordinates <em>x</em>, <em>y</em>, and <em>z</em> of <em>atom-I</em>: </p><pre class="fragment">&lt;atom-I&gt;  &lt;x&gt;  &lt;y&gt;  &lt;z&gt;
</pre><p>The <em>length</em> of a bond formed by atoms <em>I</em> and <em>J</em>: </p><pre class="fragment">&lt;atom-I&gt;  &lt;atom-J&gt;  &lt;length&gt;
</pre><p>The <em>length</em> of a bond formed by atoms <em>I</em> and <em>J</em> and the <em>angle</em> (in degrees) between the bonds formed by atoms <em>I</em>, <em>J</em>, and <em>K</em>: </p><pre class="fragment">&lt;atom-I&gt;  &lt;atom-J&gt;  &lt;length&gt;  &lt;atom-K&gt;  &lt;angle&gt;
</pre><p>The <em>length</em> of a bond formed by atoms <em>I</em> and <em>J</em>, the <em>angle</em> (in degrees) between the bonds formed by atoms <em>I</em>, <em>J</em>, and <em>K</em>, and the <em>torsion</em> angle (in degrees) of the proper dihedral formed by atoms <em>I</em>, <em>J</em>, <em>K</em>, and <em>L</em>: </p><pre class="fragment">&lt;atom-I&gt;  &lt;atom-J&gt;  &lt;length&gt;  &lt;atom-K&gt;  &lt;angle&gt;  &lt;atom-L&gt;  &lt;torsion&gt;
</pre><p>An active atom-related <a href="#prefix_suffix">prefix/suffix</a> will apply to every parameter <em>atom-x</em> present in the assignments described above. In all cases, atom <em>I</em> is the one whose coordinates are being assigned, while atoms <em>J</em>, <em>K</em>, and <em>L</em> must be atoms whose coordinates have already been assigned (please see the examples below).</p>
<p>Every molecule must be instantiated at once, meaning that the geometric information regarding all atoms of a given molecule must be provided contiguously. However, no particular order is required. Multiple molecules of one or more compounds can be instantiated either using separate <em>build</em> constructs or a unique <em>build</em> constructs with all atoms together.</p>
<p>Note that the ubiquitous <a href="http://openbabel.org/wiki/XYZ_(format)">xyz file format</a> can be used to provide geometric information for the <em>build</em> constraint, given that:</p>
<ul>
<li>The first line contains the number of atomic coordinates (<em>N</em>), as usual.</li>
<li>The second line is empty or starts with a comment mark (#).</li>
<li><p class="startli">The <em>N</em> subsequent lines contain the following four fields separated by spaces and/or tabs:</p>
<p class="startli">&lt;atom-id&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;</p>
</li>
</ul>
<p>Therefore, one can use an external software to generate the atomic coordinates (e.g., <a href="http://avogadro.cc/wiki/Main_Page">Avogadro</a>), save them in the <a href="http://openbabel.org/wiki/XYZ_(format)">xyz file format</a>, and replace the usual element symbols by atom identifiers.</p>
<p>The list of molecular structures created via <em>build</em> can be employed later on as prototypes for replication and packing with the <a href="#packmol">packmol</a> command. They can also be directly employed to produce a simulation box when the command <a href="#write">write</a> is invoked. In this case, the origin of the Cartesian space will be located at the center of the simulation box.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;build   H2O.info</div></div><!-- fragment --><p>In the example above, the geometric information of one or more copies of a water molecule is read from the file <em>H2O.info</em>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;3</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;O   0.00000  0.00000  0.00000</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;H1  O  0.9572</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;H2  O  H1  0.9572  104.52</div></div><!-- fragment --><p>In the example above, the atomic coordinates of a water molecule are guessed by positioning the oxygen atom at the origin, defining the lengths of the oxygen-hydrogen bonds as 0.9572 , and then defining the hydrogen-oxygen-hydrogen angle as 104.52 degrees.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;5</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;C1              0.0     0.0    0.0</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;C2 C1           1.54</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;C3 C2 C1        1.33    114</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;C4 C3 C2 C1     1.54    114      0</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;C5 C4 C3 C2     1.54    114    180</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;define  file as cis_2_pentene.lammpstrj</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;box     density 1.0</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;write   lammpstrj ${file}</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;shell   gnome-terminal -e &quot;vmd ${file}&quot;</div></div><!-- fragment --><p>In the example above, a united-atom cis-2-pentene molecule (C1-C2=C3-C4-C5) is defined. The length of the double bond is 1.33  and that of the single bonds is 1.54 . All bond-bending angles are 114 degrees. The torsional angle of the dihedral C1-C2=C3-C4 is zero (cis) and that of the dihedral C2=C3-C4-C5 is 180 degrees (trans). In the end, a configuration file is written down and <a href="http://www.ks.uiuc.edu/Research/vmd">vmd</a> is involved in a new terminal window for visualization.</p>
<p><b>See also</b>:</p>
<p><a href="#atom">atom</a>, <a href="#bond">bond</a>, <a href="#box">box</a>, <a href="#write">write</a>, <a href="#include">include</a> </p><hr/>
<p> <a class="anchor" id="prefix_suffix"></a> </p><h2>prefix/suffix </h2>
<p><b>Syntax</b>: </p><pre class="fragment">prefix      &lt;target&gt; &lt;string&gt;
</pre><p>or </p><pre class="fragment">suffix      &lt;target&gt; &lt;string&gt;
</pre><ul>
<li><em>target</em> = <em>types</em> or <em>atoms</em></li>
<li><em>string</em> = <em>none</em> or a character string to be used as prefix or suffix for atom types or atoms</li>
</ul>
<p><b>Description</b>:</p>
<p>This commands activates/deactivates a prefix or a suffix to be added to every <a href="#atom_type">atom_type</a> identifier or to every <a href="#atom">atom</a> identifier in subsequent commands.</p>
<p>The parameter <em>target</em> indicates which type of identifier will be modified by the activated prefix or suffix. If <em>target</em> = <em>types</em>, then the prefix/suffix will be applied to every <a href="#atom_type">atom_type</a> identifier in subsequent commands. Otherwise, if <em>target</em> = <em>atoms</em>, then the prefix/suffix will be applied to every <a href="#atom">atom</a> identifier in subsequent commands.</p>
<p>The parameter <em>string</em> must be a single character string with no comment tags (#) and no wildcard characters (* or ?). Such string will be used in subsequent commands as a prefix or suffix for <a href="#atom_type">atom_type</a> identifiers or for <a href="#atom">atom</a> identifiers, depending on the specified parameter <em>target</em>. If <em>string</em> = <em>none</em>, then no prefix/suffix will be added for the specified <em>target</em> in subsequent commands. Therefore, using <em>string</em> = <em>none</em> deactivates a currently active prefix or suffix.</p>
<p>Prefixes and suffixes can be simultaneously active.</p>
<p>The following commands are affected by the <code>prefix types</code> and <code>suffix types</code> commands:</p>
<ul>
<li><a href="#atom_type">atom_type</a>, <a href="#mass">mass</a>, <a href="#diameter">diameter</a>, <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, <a href="#dihedral_type">dihedral_type</a>, <a href="#improper_type">improper_type</a>, and <a href="#atom">atom</a>.</li>
</ul>
<p>The following commands are affected by the <code>prefix atoms</code> and <code>suffix atoms</code> commands:</p>
<ul>
<li><a href="#atom">atom</a>, <a href="#bond">bond</a>, <a href="#charge">charge</a>, <a href="#improper">improper</a>, <a href="#extra">extra</a>, <a href="#link">link</a>, and <a href="#build">build</a>.</li>
</ul>
<p><b>Note</b>: an active, atom-related prefix/suffix will NOT be automatically applied to arguments of the <code>mol()</code> function. Therefore, molecule specifications within the commands <a href="#align">align</a> and <a href="#packmol">packmol</a> require manual inclusion of prefixes and/or suffixes.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;prefix      atoms   H2O-</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;suffix      types   A</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;atom        H1 H</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;atom        H2 H</div></div><!-- fragment --><p>The example above creates two atoms whose identifiers are <em>H2O-H1</em> and <em>H2O-H2</em>. Both atoms are of the same type <em>HA</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="box"></a> </p><h2>box </h2>
<p><b>Syntax</b>: </p><pre class="fragment">box     lengths &lt;lx&gt; &lt;ly&gt; &lt;lz&gt;
</pre><p>or </p><pre class="fragment">box     angles &lt;alpha&gt; &lt;beta&gt; &lt;gamma&gt;
</pre><p>or </p><pre class="fragment">box     volume &lt;value&gt; [aspect &lt;ax&gt; &lt;ay&gt; &lt;az&gt;]
</pre><p>or </p><pre class="fragment">box     density &lt;value&gt; [aspect &lt;ax&gt; &lt;ay&gt; &lt;az&gt;]
</pre><ul>
<li><em>lx</em>, <em>ly</em>, <em>lz</em> = lengths of the box edges in directions x, y, and z</li>
<li><em>alpha</em>, <em>beta</em>, <em>gamma</em> = angles between the box edges</li>
<li><em>value</em> = density of the simulation box</li>
<li><em>ax</em>, <em>ay</em>, <em>az</em> (optional) = Scaling factors in directions x, y, and z</li>
</ul>
<p><b>Description</b>:</p>
<p>This command specifies the side lengths, the angles, the volume, or the density of a simulation box.</p>
<p>The parameters <em>lx</em>, <em>ly</em>, and <em>lz</em> are the lengths of the simulation box edges in the three spatial directions.</p>
<p>The parameters <em>alpha</em>, <em>beta</em>, and <em>gamma</em> are the angles, in degrees, between edge vectors of a non-orthogonal box (<em>alpha</em> between <em>ly</em> and <em>lz</em>, <em>beta</em> between <em>lx</em> and <em>lz</em>, and <em>gamma</em> between <em>lx</em> and <em>ly</em>). The command <code>box angles</code> requires that a command <code>box lengths</code> has been previously issued.</p>
<p>The parameter <em>value</em> is either the volume or the density of the simulation box, depending on the kind of specification.</p>
<p>The optional keyword <em>aspect</em> with parameters <em>ax</em>, <em>ay</em>, and <em>az</em> can be used to determine the relative box sizes in the three spatial directions (the absolute values of these three parameters are meaningless). If the keyword <em>aspect</em> is omitted, Playmol will consider a cubic box.</p>
<p><b>Important</b>: when the box density is specified, Playmol will automatically calculate the box side lengths when necessary. For this, it will sweep the whole list of molecular structures defined via <a href="#build">build</a> and <a href="#packmol">packmol</a> commands in order to determine the total mass of the system. Playmol will not perform any unit conversion. Consequently, the specified density value must be consistent with the mass and length units used in other commands. For instance, if <a href="http://lammps.sandia.gov/doc/units.html">LAMMPS real units</a> are considered (mass in g/mol and lengths in ), then the density must be provided in Da/ (Daltons per cubic Angstrom). In this case, values originally in g/cm must be multiplied by 0.60221413.</p>
<p>When building a simulation box, Playmol considers that its geometric center is in the origin of the Cartesian space. Playmol does not check whether the previously specified atomic coordinates fit inside this box.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;box lengths 30 30 30</div></div><!-- fragment --><p>The example above specifies a cubic simulation box.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;box volume 27000</div></div><!-- fragment --><p>The example above is completely equivalent to the preceding one, since the default aspect is cubic.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;box density 0.602214 aspect 1 1 2</div></div><!-- fragment --><p>The example above specifies a simulation box with density equal to 0.602214 in <a href="equivalent to 1.0 g/cm">LAMMPS real units</a>. The box is twice as elongated in the z direction as in the other two directions.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;box lengths 28.224 28.224 34.443</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;box angles  90 90 120</div></div><!-- fragment --><p>The example above specifies a non-orthogonal simulation box that can be used to simulate a hexagonal lattice system (<em>lx</em> = <em>ly</em>  <em>lz</em> and <em>alpha</em> = <em>beta</em>  <em>gamma</em>).</p>
<p><b>See also</b>:</p>
<p><a href="#build">build</a>, <a href="#packmol">packmol</a>, <a href="#write">write</a> </p><hr/>
<p> <a class="anchor" id="velocity"></a> </p><h2>velocity </h2>
<p><b>Syntax</b>: </p><pre class="fragment">velocity    &lt;seed&gt; &lt;kT&gt;
</pre><ul>
<li><em>seed</em> = seed for the random number generator (an integer number)</li>
<li><em>kT</em> = temperature multiplied by the Boltzmann constant (in energy units)</li>
</ul>
<p><b>Description</b>:</p>
<p>This command tells Playmol to include atom velocities in some output files created via <a href="#write">write</a> and specifies the parameters used to generate the velocity vectors. The affected file formats are <em>lammps</em> and <em>emdee</em>.</p>
<p>The parameter <em>seed</em> must be a positive integer number, which will seed a pseudo-random number generator. For a given set of atoms with specified masses, different values of <em>seed</em> will produce distinct sets of velocity vectors.</p>
<p>The parameter <em>kT</em> is the temperature multiplied by the Boltzmann constant, which witll determine the atomic speeds. The velocity vector elements for an atom with mass <em>m</em> will be randomly generated from a normal distribution with mean zero and standard deviation equal to <em>sqrt(kT/m)</em>. Therefore, the units of <em>kT</em> must be chosen accordingly. For instance, if <a href="http://lammps.sandia.gov/doc/units.html">LAMMPS real units</a> are employed, then the appropriate value of the Boltzmann constant is 8.31451E-7 # Da./(fs.K).</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;define      kB as 8.31451E-7 # Da./(fs.K)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;define      T as 298.15 # K</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;velocity    6234 {$kB*$T}</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#write">write</a> </p><hr/>
<p> <a class="anchor" id="align"></a> </p><h2>align </h2>
<p><b>Syntax</b>: </p><pre class="fragment">align        &lt;molecule&gt; &lt;axis-1&gt; &lt;axis-2&gt;
</pre><ul>
<li><em>molecule</em> = the index of an existing molecule with predefined coordinates</li>
<li><em>axis-1</em> = <em>x</em>, <em>y</em>, or <em>z</em></li>
<li><em>axis-2</em> = <em>x</em>, <em>y</em>, or <em>z</em> (different from <em>axis-1</em>)</li>
</ul>
<p><b>Description</b>:</p>
<p>This command aligns the principal axes of a given molecule with the system's Cartesian axes. The principal axes are defined as those for which the molecule's inertia tensor is diagonal. The inertia tensor is obtained as if all atoms had the same mass.</p>
<p>The parameter <em>molecule</em> specifies the molecule to be aligned with the Cartesian axes. This specification can be done in either of the following ways:</p>
<ol type="1">
<li>By directly employing the numerical index of the compound. The command <a href="#write">write</a>, with its option <em>summary</em>, can be helpful for checking the indexes of the existing ones.</li>
<li>By using the function <code>mol(atom)</code>, where <em>atom</em> is the identifier of an existing <a href="#atom">atom</a>. Such identifier must be tightly placed inside the parentheses (that is, without any spaces and/or tabs). Note that an active, atom-related <a href="#prefix_suffix">prefix/suffix</a> will NOT be applied automatically to <em>atom</em>.</li>
</ol>
<p>Except in a few special cases, the specified molecule must have already been instantiated (see the <a href="basics.html">Playmol Basics</a> section). In this case, the first set of atomic coordinates previously provided for such molecule will be employed. The special cases, which might not require previous instantiation, are: (1) monoatomic molecules, (2) diatomic molecules whose involved <a href="#bond_type">bond_type</a> describes a harmonic potential, and (3) triatomic molecules whose involved <a href="#bond_type">bond_type</a> and <a href="#angle_type">angle_type</a> both describe harmonic potentials. In these cases, Playmol will consider the second <a href="#bond_type">bond_type</a>'s attribute as an equilibrium distance and the second <a href="#angle_type">angle_type</a>'s attribute as an equilibrium angle (in degrees).</p>
<p>The parameter <em>axis-1</em> must be equal to <em>x</em>, <em>y</em>, or <em>z</em>, and specifies the Cartesian axis with which the molecule will be aligned considering its most elongated principal axis.</p>
<p>The parameter <em>axis-2</em> must also be equal to <em>x</em>, <em>y</em>, or <em>z</em>, but different from <em>axis-1</em>. It specifies the Cartesian axis with which the molecule will be aligned considering its second most elongated principal axis. Of course, the shortest principal axis will be aligned to the Cartesian axis not explicitly specified in the command <em>align</em>.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;align       1 x z</div></div><!-- fragment --><p>The example above aligns the most elongated principal axis of molecule 1 to the Cartesian axis <em>x</em>, and its second most elongated principal axis to axis <em>z</em>.</p>
<p><b>See also</b>:</p>
<p><a href="#write">write</a>, <a href="#packmol">packmol</a> </p><hr/>
<p> <a class="anchor" id="packmol"></a> </p><h2>packmol </h2>
<p><b>Syntax</b>: </p><pre class="fragment">packmol     &lt;keyword&gt; &lt;arguments&gt; [&lt;keyword&gt; &lt;arguments&gt; ...]
</pre><ul>
<li><em>keyword</em> = <em>seed</em> or <em>diameter</em> or <em>nloops</em> or <em>retry</em> or <em>fix</em> or <em>copy</em> or <em>pack</em> or <em>action</em></li>
</ul>
<p><b>Keywords and arguments</b>:</p>
<ul>
<li>seed &lt;iseed&gt;<ul>
<li><em>iseed</em> = an integer seed for Packmol's random number generator (<em>default</em> = 1234)</li>
</ul>
</li>
<li>diameter &lt;D&gt;<ul>
<li><em>D</em> = diameter assigned to all atoms expect those with explicit definition (<em>default</em> = 2.5)</li>
</ul>
</li>
<li>nloops &lt;N&gt;<ul>
<li><em>N</em> = the maximum number of iterations of the Packmol algorithm (<em>default</em> = 50)</li>
</ul>
</li>
<li>retry &lt;factor&gt;<ul>
<li><em>factor</em> = a scaling factor for the tolerance in successive packing attempts (<em>default</em> = 1.0)</li>
</ul>
</li>
<li>fix &lt;molecule&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;<ul>
<li><em>molecule</em> = the index of an existing molecule with predefined coordinates</li>
<li><em>x</em>, <em>y</em>, <em>z</em> = a spatial coordinate for placing the molecule's geometric center</li>
</ul>
</li>
<li>copy &lt;molecule&gt; &lt;N&gt;<ul>
<li><em>molecule</em> = the index of an existing molecule with predefined coordinates</li>
<li><em>N</em> = the number of randomly positioned copies of the molecule</li>
</ul>
</li>
<li>pack &lt;molecule&gt; &lt;N&gt;<ul>
<li><em>molecule</em> = the index of an existing molecule with predefined coordinates</li>
<li><em>N</em> = the number of randomly packed copies of the molecule</li>
</ul>
</li>
<li>action &lt;option&gt;<ul>
<li><em>option</em> = <em>execute</em> or <em>setup</em></li>
</ul>
</li>
</ul>
<p><b>Description</b>:</p>
<p>This command invokes the <a href="http://www.ime.unicamp.br/~martinez/packmol">Packmol package</a> to:</p>
<ol type="1">
<li>Build an overlap-free molecular packing by considering atoms as hard spheres. In this case, an overlap is considered to occur if the distance between any two atoms of distinct molecules is smaller than the sum of their radii. After a packing is successfully built, all atomic coordinates defined beforehand are deleted (as if a <a href="#reset">reset</a> command was issued with option <em>xyz</em>) and fully replaced with the new Packmol-generated coordinates.</li>
<li>Create input files so that the molecular packing can be produced by executing Packmol externally.</li>
</ol>
<p>The keywords <em>seed</em>, <em>diameter</em>, and <em>nloops</em> change the values of some parameters that affect the behavior of Packmol.</p>
<p>The parameter <em>iseed</em> is a seed for Packmol's pseudo-random number generator. Even with all other parameters unchanged, different values of <em>iseed</em> will produce distinct random packings. It must be an integer number and its default value is <em>1234</em>.</p>
<p>The parameter <em>D</em> is the default atom diameter, that is, the diameter to be assigned to all atom types except those whose diameters have been explicitly defined using the <a href="#diameter">diameter</a> command. It must be a nonnegative real number and its default value is <em>2.5</em>. This might be a suitable value for all-atom models when distances are expressed in Angstroms.</p>
<p>The parameter <em>N</em> is the maximum number of iterations allowed for the Packmol algorithm. If this number is exceeded, then a packing attempt is considered as unsuccessful. It must be a positive integer number and its default value is <em>50</em>.</p>
<p>The parameter <em>factor</em> is a diameter reduction factor. It must satisfy 0.0 &lt; <em>factor</em> &le; 1.0 and its default value is 1.0. If <em>factor</em> = 1.0, then Packmol will be invoked only once with the specified atom diameters and will produce an error message if the packing attempt fails. Otherwise, Packmol will be invoked as many times as necessary to achieve a successful packing, with all atom diameters being iteratively multiplied by the value of <em>factor</em> at each new attempt.</p>
<p>The keywords <em>fix</em>, <em>copy</em>, and <em>pack</em> require specifying an existing molecule. Except in a few special cases, such molecule must have already been instantiated (see the <a href="basics.html">Playmol Basics</a> section). In this case, the first sets of atomic coordinates previously provided for such molecule will be used to define a rigid-body that can undergo replications, translations, and rotations. The special cases, which might not require previous instantiation, are: (1) monoatomic molecules, (2) diatomic molecules whose involved <a href="#bond_type">bond_type</a> describes a harmonic potential, and (3) triatomic molecules whose involved <a href="#bond_type">bond_type</a> and <a href="#angle_type">angle_type</a> both describe harmonic potentials. In these cases, Playmol will consider the second <a href="#bond_type">bond_type</a>'s attribute as an equilibrium distance and the second <a href="#angle_type">angle_type</a>'s attribute as an equilibrium angle (in degrees).</p>
<p>A molecule specification for the <em>fix/copy/pack</em> keywords can be done in either of the following ways:</p>
<ol type="1">
<li>By directly employing the numerical index of the compound. The command <a href="#write">write</a>, with its option <em>summary</em>, can be helpful for checking the indexes of the existing ones. One may note, however, that these indexes can possibly change during the execution of a script (please see the <a href="#bond">bond</a> command description). Thus, the specification must refer to the index which the desired compound will have at the moment of a <code>packmol action</code> command (see below).</li>
<li>By using the function <code>mol(atom)</code>, where <em>atom</em> is the identifier of an existing <a href="#atom">atom</a>. Such identifier must be tightly placed inside the parentheses (that is, without any spaces and/or tabs). At the moment of a <code>packmol action</code> command, the function will return the index of the compound that contains the specified atom. Note that an active, atom-related <a href="#prefix_suffix">prefix/suffix</a> will NOT be applied automatically to <em>atom</em>.</li>
</ol>
<p>The usage of each keyword <em>fix</em>, <em>copy</em>, or <em>pack</em> is: </p><pre class="fragment">fix &lt;molecule&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;
</pre><p>This makes a copy of a molecule and, while keeping the original orientation, places its geometric center at the provided coordinate (<em>x</em>, <em>y</em>, <em>z</em>). </p><pre class="fragment">copy &lt;molecule&gt; &lt;N&gt;
</pre><p>This makes <em>N</em> copies of a molecule in random positions, but keeping the original orientation (i.e. all <em>N</em> copies will be aligned to each other in the final packing). This is useful for facilitating the packing of elongated molecules. </p><pre class="fragment">pack &lt;molecule&gt; &lt;N&gt;
</pre><p>This makes <em>N</em> copies of a molecule in random positions and with random orientations.</p>
<p>The keyword <em>action</em> is used to create Packmol input files or to execute Packmol. The following options are available: </p><pre class="fragment">action execute
</pre><p>This option executes Packmol in order to build the desired molecular packing. It requires the previous definition of a simulation <a href="#box">box</a>. Moreover, it requires that at least one keyword <em>fix</em> <em>copy</em>, or <em>pack</em> has appeared in a previous packmol command or appears in the same packmol command, either before or after the keyword <em>action</em>. If the parameter <em>retry</em> is currently equal to 1.0 (its default value), then Packmol will do only one packing attempt with the specified <em>tolerance</em> and produce a warning message in case such attempt fails. If <em>retry</em> is smaller than 1.0, then Packmol will keep trying until a successful attempt is achieved, with <em>tolerance</em> being iteratively multiplied by the <em>retry</em> value at each new attempt. IMPORTANT: if the packing succeeds, then the current list of atomic coordinates is replaced by the new coordinates generated by Packmol. After that, the command <a href="#write">write</a> can be used to create a LAMMPS configuration file with the attained packing. </p><pre class="fragment">action setup
</pre><p>This option generates an input file named <em>packmol.inp</em> and coordinate files <em>molecule-x.inp</em>, where <em>x</em> is an index for each involved molecule. These files are prepared for running Packmol externally in order to generate a file <em>packmol-output.xyz</em> containing the final packing if the algorithm succeeds with the given tolerance. For illustration, one may notice that a successful use of the packmol command with options <em>retry 1.0 action execute</em> would have exactly the same result as the following sequence of commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;packmol     action setup</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;shell       packmol &lt; packmol.inp</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;reset       xyz</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;build       packmol_output.xyz</div></div><!-- fragment --><p>Nevertheless, the real usefulness of the option <em>setup</em> is to allow the file <em>packmol.inp</em> to be manually edited so that some additional constraints can be imposed. The user is referred to <a href="http://www.ime.unicamp.br/~martinez/packmol/quickguide">Packmol User's Guide</a> for additional information. The Packmol algorithm is described in Ref. <a class="el" href="citelist.html#CITEREF_Martinez_2009">[3]</a>.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;box         density 0.602214</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;packmol     tolerance 3.0 retry 0.9 fix 1 0.0 0.0 0.0 pack 2 1000</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;packmol     action execute</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;write       lammps system.data</div></div><!-- fragment --><p>The example above uses Packmol to create a random packing of molecules with density equal to 0.602214 Da/ (1.0 g/cm) in which one copy of molecule 1 is centered at the origin and 1000 copies of molecule 2 are packed with random positions and random orientations. The desired mininum intermolecular atomic distance is initially set to 3.0 , but Packmol will keep reducing the tolerance in 90% until the packing is successful. Finally, a <a href="http://lammps.sandia.gov/doc/read_data.html">LAMMPS data file</a> is generated.</p>
<p><b>See also</b>:</p>
<p><a href="#reset">reset</a>, <a href="#diameter">diameter</a>, <a href="#box">box</a>, <a href="#build">build</a>, <a href="#write">write</a>, <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a> </p><hr/>
<p> <a class="anchor" id="write"></a> </p><h2>write </h2>
<p><b>Syntax</b>: </p><pre class="fragment">write        &lt;format&gt; [&lt;file&gt;]
</pre><ul>
<li><em>format</em> = <em>playmol</em> or <em>lammps</em> or <em>lammps/models</em> or <em>emdee</em> or <em>summary</em> or <em>xyz</em> or <em>lammpstrj</em></li>
<li><em>file</em> (optional) = name of a file to be created</li>
</ul>
<p><b>Description</b>:</p>
<p>This command writes down the molecular system in a file or in the standard output device.</p>
<p>The parameter <em>format</em> must be one of the following options:</p>
<ul>
<li><b>playmol</b>: the output will contain Playmol commands that could be used in another script to build the same system. For illustration, detected angles and dihedrals appear as commented lines. Type and atom prefixes are explicitly added to the corresponding identifiers.</li>
<li><b>lammps</b>: the command will produce information in the LAMMPS configuration file format, which can be used as an initial configuration for a Molecular Dynamics simulation using LAMMPS through its command <a href="http://lammps.sandia.gov/doc/read_data.html">read_data</a>.</li>
<li><b>lmp/models</b>: identical to the <em>lammps</em> option above, except that Playmol will consider the first attribute of every defined <a href="#atom_type">atom_type</a> as the specification of a <a href="http://lammps.sandia.gov/doc/pair_style.html">LAMMPS pair style</a> for such atom type, as well as the first attribute of every <a href="#bond_type">bond_type</a>, <a href="#angle_type">angle_type</a>, <a href="#dihedral_type">dihedral_type</a>, or <a href="#improper_type">improper_type</a> as the specification of a corresponding style in [LAMMPS].</li>
<li><b>emdee</b>: the command will produce code in the <a href="http://julialang.org">Julia</a> programming language, which can be used to define an initial configuration for a Molecular Dynamics simulation using the <a href="https://github.com/craabreu/emdee">EmDee</a> package. As with the <b>lammps/models</b> option, Playmol will consider the first attribute of every defined type as a model specification (in this case, slashes will be replaced by underscores in model names).</li>
<li><b>summary</b>: this option will print a summary of the system characteristics, including the amount of every defined and detected structure such as angles, dihedrals, and molecules. Properties of each molecular species will also be printed, such as its mass, its atoms, and the number of defined sets of coordinates. This is useful for debugging purposes.</li>
<li><b>xyz</b>: writes down the list of atomic coordinates using the <a href="http://openbabel.org/wiki/XYZ_(format)">xyz file format</a>, but with element symbols replaced by atom identifiers. This is useful for using with another Playmol script or for visualization purposes.</li>
<li><b>lammpstrj</b>: writes down the list of atomic coordinates using the LAMMPS trajectory format. This is useful for visualization with <a href="http://www.ks.uiuc.edu/Research/vmd">VMD</a>.</li>
</ul>
<p>The optional parameter <em>file</em> is the name of the file which will contain the system info. If it is omitted, the info will be written in the standard output unit (the computer screen, in most cases).</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;write   playmol water.mol</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;write   lammps water.data</div></div><!-- fragment --> <hr/>
<p> <a class="anchor" id="include"></a> </p><h2>include </h2>
<p><b>Syntax</b>: </p><pre class="fragment">include     &lt;file&gt;
</pre><ul>
<li><em>file</em> = name of a file containing additional playmol commands</li>
</ul>
<p><b>Description</b>:</p>
<p>This command redirects Playmol to read and execute commands from another script.</p>
<p><b>Examples</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;include     H2O.mol</div></div><!-- fragment --><p><b>See also</b>:</p>
<p><a href="#atom_type">atom_type</a>, <a href="#atom">atom</a> </p><hr/>
<p> <a class="anchor" id="reset"></a> </p><h2>reset </h2>
<p><b>Syntax</b>: </p><pre class="fragment">reset       &lt;list&gt;
</pre><ul>
<li><em>list</em> = <em>all</em> or <em>atom</em> or <em>charge</em> or <em>bond</em> or <em>link</em> or <em>angle</em> or <em>dihedral</em> or <em>improper</em> or <em>extra_bond</em> or <em>extra_angle</em> or <em>extra_dihedral</em> or <em>xyz</em> or <em>packmol</em></li>
</ul>
<p><b>Description</b>:</p>
<p>This command resets one or more lists of entities previously created. The resettable lists are those in the table below.</p>
<table class="doxtable">
<tr>
<th align="right">Index </th><th align="left">List  </th></tr>
<tr>
<td align="right">1 </td><td align="left">atom types </td></tr>
<tr>
<td align="right">2 </td><td align="left">masses </td></tr>
<tr>
<td align="right">3 </td><td align="left">diameters </td></tr>
<tr>
<td align="right">4 </td><td align="left">bond types </td></tr>
<tr>
<td align="right">5 </td><td align="left">angle types </td></tr>
<tr>
<td align="right">6 </td><td align="left">dihedral types </td></tr>
<tr>
<td align="right">7 </td><td align="left">improper types </td></tr>
<tr>
<td align="right">8 </td><td align="left">atoms </td></tr>
<tr>
<td align="right">9 </td><td align="left">charges </td></tr>
<tr>
<td align="right">10 </td><td align="left">bonds </td></tr>
<tr>
<td align="right">11 </td><td align="left">angles </td></tr>
<tr>
<td align="right">12 </td><td align="left">dihedrals </td></tr>
<tr>
<td align="right">13 </td><td align="left">extra bonds </td></tr>
<tr>
<td align="right">14 </td><td align="left">extra angles </td></tr>
<tr>
<td align="right">15 </td><td align="left">extra dihedrals </td></tr>
<tr>
<td align="right">16 </td><td align="left">impropers </td></tr>
<tr>
<td align="right">17 </td><td align="left">links </td></tr>
<tr>
<td align="right">18 </td><td align="left">atomic coordinates </td></tr>
<tr>
<td align="right">19 </td><td align="left">packmol fix/copy/pack specifications </td></tr>
</table>
<p>The parameter <em>list</em> must be one of the following options:</p>
<ul>
<li><b>all</b>: deletes all lists previously created (<em>1</em> to <em>19</em>).</li>
<li><b>atom</b>: deletes the list of atoms and all its dependent lists (<em>8</em> to <em>19</em>).</li>
<li><b>charge</b>: deletes the list of atomic charges (<em>9</em>).</li>
<li><b>bond</b>: deletes the lists from <em>10</em> to <em>17</em> in the table above and resets all atoms as monoatomic molecules. The lists of coordinates and packmol specifications remain unchanged.</li>
<li><b>angle</b>: deletes the lists of angles and extra angles (<em>11</em> and <em>14</em>).</li>
<li><b>dihedral</b>: deletes the lists of dihedrals and extra dihedrals (<em>12</em> and <em>15</em>).</li>
<li><b>extra_bond</b>: deletes the list of extra bonds (<em>13</em>).</li>
<li><b>extra_angle</b>: deletes the list of extra angles (<em>14</em>).</li>
<li><b>extra_dihedral</b>: deletes the list of extra dihedrals (<em>15</em>).</li>
<li><b>improper</b>: deletes the list of impropers (<em>16</em>).</li>
<li><b>link</b>: deletes the list of virtual links (<em>17</em>) and splits all molecules accordingly, as if the <a href="#unlink">unlink</a> command was issued individually for every link present in the list.</li>
<li><b>xyz</b>: deletes the list of atomic coordinates (<em>18</em>).</li>
<li><b>packmol</b>: deletes the list of [packmol fix/copy/pack specifications (<em>19</em>).</li>
</ul>
<p><b>See also</b>:</p>
<p><a href="#packmol">packmol</a>, <a href="#unlink">unlink</a> </p><hr/>
<p> <a class="anchor" id="shell"></a> </p><h2>shell </h2>
<p><b>Syntax</b>: </p><pre class="fragment">shell       &lt;command&gt;
</pre><ul>
<li><em>command</em> = an external shell command</li>
</ul>
<p><b>Description</b>:</p>
<p>This command executes an external shell command.</p>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;shell   mv packmol.inp system.inp</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;shell   packmol &lt; system.inp</div></div><!-- fragment --><p>The example above uses Linux command <em>mv</em> to rename a file from <em>packmol.inp</em> to <em>system.inp</em> and then executes Packmol using it as input.</p>
<p><b>See also</b>:</p>
<p><a href="#packmol">packmol</a> </p><hr/>
<p> <a class="anchor" id="quit"></a> </p><h2>quit </h2>
<p><b>Syntax</b>: </p><pre class="fragment">quit [all]
</pre><p><b>Description</b>:</p>
<p>This command interrupts the execution of a Playmol script, thus being useful for debugging purposes.</p>
<p>The optional keyword <em>all</em> forces Playmol to stop completely. In the absence of the keyword, the command <em>quit</em> has the same behavior of a normal end of file. For instance, if the script has been invoked by another script via the <a href="#include">include</a> command, execution of the invoking script continues.</p>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;write summary</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;quit</div></div><!-- fragment --><p>The example above writes a summary of the current molecular system and then quits Playmol.</p>
<p><b>See also</b>:</p>
<p><a href="#include">include</a> </p><hr/>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
